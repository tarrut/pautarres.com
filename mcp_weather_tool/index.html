<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Current Weather MCP Tool</title><meta content="favicon.ico" property="og:image"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/8d0704d0537b5f29.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8d0704d0537b5f29.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3864b451a61e4546.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3864b451a61e4546.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-b7080a2a04b9666f.js" defer=""></script><script src="/_next/static/chunks/framework-22c76c6e1a554a8b.js" defer=""></script><script src="/_next/static/chunks/main-6c830c35a9b3ffec.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e818d3eb73ab56d0.js" defer=""></script><script src="/_next/static/chunks/175675d1-1013f0aae9471e5b.js" defer=""></script><script src="/_next/static/chunks/78049-f0aaaa174672cc83.js" defer=""></script><script src="/_next/static/chunks/85638-d4cf81509bd4d689.js" defer=""></script><script src="/_next/static/chunks/pages/mcp_weather_tool-df3481a32a8e905c.js" defer=""></script><script src="/_next/static/x3t_1R6cMSxRVr9cBtLDR/_buildManifest.js" defer=""></script><script src="/_next/static/x3t_1R6cMSxRVr9cBtLDR/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>((e,o,s,u,d,m,l,h)=>{let i=document.documentElement,T=["light","dark"];function p(a){(Array.isArray(e)?e:[e]).forEach(g=>{let k=g==="class",S=k&&m?d.map(f=>m[f]||f):d;k?(i.classList.remove(...S),i.classList.add(a)):i.setAttribute(g,a)}),R(a)}function R(a){h&&T.includes(a)&&(i.style.colorScheme=a)}function c(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)p(u);else try{let a=localStorage.getItem(o)||s,g=l&&a==="system"?c():a;p(g)}catch(a){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div data-is-root-theme="true" data-accent-color="blue" data-gray-color="slate" data-has-background="true" data-panel-background="translucent" data-radius="medium" data-scaling="100%" class="radix-themes css-0"><style data-emotion="css 17rg0dp">.css-17rg0dp{position:fixed;width:100vw;height:0;}</style><div title="Connection Error: " class="css-17rg0dp"></div><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><style data-emotion="css 172osot">.css-172osot{background-color:#ffffff;}</style><link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/><style>
                @font-face {
                    font-family: &#x27;LucideIcons&#x27;;
                    src: url(https://unpkg.com/lucide-static@latest/font/Lucide.ttf) format(&#x27;truetype&#x27;);
                }
            </style><style data-emotion="css 5wcdoa">.css-5wcdoa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;background-color:#ffffff;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--default-font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}</style><div class="rt-Box css-5wcdoa"><div class="rt-Box css-172osot"><style data-emotion="css ltm286">.css-ltm286{width:100%;margin-left:auto;margin-right:auto;padding-left:1.5rem;padding-right:1.5rem;padding-top:3rem;padding-bottom:1rem;position:-webkit-sticky;position:sticky;top:0;}@media screen and (min-width: 640px){.css-ltm286{max-width:640px;}}@media screen and (min-width: 768px){.css-ltm286{max-width:768px;}}@media screen and (min-width: 1024px){.css-ltm286{max-width:1024px;}}@media screen and (min-width: 1280px){.css-ltm286{max-width:1280px;}}@media screen and (min-width: 1536px){.css-ltm286{max-width:1536px;}}</style><div class="rt-Box css-ltm286"><style data-emotion="css fx00pk">.css-fx00pk{direction:column;list-style-type:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-column-gap:1.5rem;column-gap:1.5rem;}</style><ul class="css-fx00pk"><li><style data-emotion="css 1dc9kwh">.css-1dc9kwh{color:#000000;-webkit-text-decoration:bold;text-decoration:bold;}.css-1dc9kwh:hover{color:#9CA3AF;}</style><a href="/" class="css-1dc9kwh">Home</a></li><li><a href="/#projects" class="css-1dc9kwh">Projects</a></li><li><a href="/#contact" class="css-1dc9kwh">Contact</a></li></ul></div></div><style data-emotion="css 14ysv2j">.css-14ysv2j{-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;margin-left:auto;margin-right:auto;padding-left:1.5rem;padding-right:1.5rem;padding-top:1rem;padding-bottom:0rem;color:#000000;}@media screen and (min-width: 300px){.css-14ysv2j{max-width:300px;font-size:0.5rem;}}@media screen and (min-width: 350px){.css-14ysv2j{max-width:350px;font-size:0.7rem;}}@media screen and (min-width: 400px){.css-14ysv2j{max-width:400px;font-size:0.8rem;}}@media screen and (min-width: 500px){.css-14ysv2j{max-width:500px;font-size:1rem;}}@media screen and (min-width: 640px){.css-14ysv2j{max-width:640px;font-size:1rem;}}@media screen and (min-width: 768px){.css-14ysv2j{max-width:768px;font-size:1rem;}}@media screen and (min-width: 1024px){.css-14ysv2j{max-width:900px;font-size:1rem;}}@media screen and (min-width: 1280px){.css-14ysv2j{max-width:900px;font-size:1rem;}}@media screen and (min-width: 1536px){.css-14ysv2j{max-width:900px;font-size:1rem;}}</style><div class="rt-Box css-14ysv2j"><style data-emotion="css 15l8ddy">.css-15l8ddy{border-bottom:2px solid black;margin-top:2rem;padding-bottom:0.5rem;margin-bottom:2rem;}</style><h1 level="1" class="rt-Heading rt-r-size-6 css-15l8ddy">Current Weather MCP Tool</h1>
<style data-emotion="css 56tzch">.css-56tzch{margin-top:1em;margin-bottom:1em;}</style><p class="rt-Text css-56tzch">This short project was developed to deepen the understanding of how the <strong>Model Context Protocol (MCP)</strong> works, focusing specifically on the concept of <strong>MCP servers</strong>. The project consists of creating a <strong>local MCP server</strong> in Python using the <code data-accent-color="" class="rt-reset rt-Code rt-variant-soft">mcp[cli]</code> library.</p>
<p class="rt-Text css-56tzch">The server implements a single tool that makes an HTTP request to a weather API, providing real-time weather context to an AI assistant (in this case, Claude). The code can be found <style data-emotion="css 1macts">.css-1macts:hover{color:var(--accent-8);}</style><a data-accent-color="" href="https://github.com/tarrut/weather_api_ai_tool" class="rt-Text rt-reset rt-Link rt-underline-auto css-1macts">in this repository</a>.</p>
<style data-emotion="css ombwkg">.css-ombwkg{border-bottom:1px solid black;margin-top:2rem;padding-bottom:0.5rem;}</style><h1 level="2" class="rt-Heading rt-r-size-6 css-ombwkg">What is Model Context Protocol?</h1>
<p class="rt-Text css-56tzch">The <strong>Model Context Protocol (MCP)</strong> is an open standard developed by Anthropic to standardize the integration of AI models with external tools and services. MCP allows AI assistants to interact with various resources without requiring bespoke connectors. It operates on a <strong>modular client-server architecture</strong>, where AI applications (hosts) communicate with MCP servers that expose resources, tools, and prompts.</p>
<p class="rt-Text css-56tzch">This design facilitates seamless context exchange, enabling AI models to perform tasks such as reading files, querying databases, or invoking APIs in an efficient and secure manner.</p>
<h1 level="2" class="rt-Heading rt-r-size-6 css-ombwkg">MCP with Claude Desktop</h1>
<p class="rt-Text css-56tzch"><strong>Claude Desktop</strong> leverages MCP to enhance its capabilities by connecting with both local and remote services. Through MCP, Claude can perform actions such as reading from the file system, writing new files, moving files, and searching documents (with user consent).</p>
<p class="rt-Text css-56tzch">MCP ensures that interactions with external tools are permissioned, transparent, and controlled by the user, preserving a high standard of privacy and security. This integration empowers users to extend Claude&#x27;s functionality, making it a versatile and powerful assistant for a wide range of tasks.</p>
<h1 level="2" class="rt-Heading rt-r-size-6 css-ombwkg">Weather API</h1>
<p class="rt-Text css-56tzch">To fetch current weather data, the tool integrates with a <strong>Weather API</strong>, which provides real-time weather information for any location worldwide. The API returns data such as temperature, humidity, wind speed, and weather conditions in JSON format.</p>
<p class="rt-Text css-56tzch">Developers access this data by making HTTP requests to the API endpoints, specifying parameters such as the city name or geographic coordinates.</p><style data-emotion="css a07n97">.css-a07n97{width:80%;display:block;margin:auto;}</style><img alt="Weather API Diagram" src="../images/mcp_weather_tool/weather_api.png" class="css-a07n97"/><h1 level="2" class="rt-Heading rt-r-size-6 css-ombwkg">Current Weather Tool</h1>
<p class="rt-Text css-56tzch">The <strong>Current Weather Tool</strong> is a simple MCP server that interfaces with the Weather API to provide up-to-date weather information. When connected to an MCP-compatible host like Claude Desktop, users can query the tool using natural language prompts (e.g., &quot;What&#x27;s the weather in London?&quot;).</p><img alt="MCP Diagram" src="../images/mcp_weather_tool/mcp.png" class="css-a07n97"/><p class="rt-Text css-56tzch">When a query is made, Claude Desktop sends an MCP request to the Current Weather Tool, which then retrieves the relevant data from the external Weather API. The tool processes the received data, formats it into a concise weather report, and sends the response back to the host. The AI assistant then presents the information to the user in a natural and helpful way.</p>
<p class="rt-Text css-56tzch">The Weather Tool only processes user-specified queries (such as city names or geographic coordinates) and does not store or transmit any personal information, ensuring user privacy is maintained throughout the interaction.</p>
<h1 level="2" class="rt-Heading rt-r-size-6 css-ombwkg">Final Result</h1>
<p class="rt-Text css-56tzch">After setting up the MCP server and configuring Claude Desktop, the Current Weather Tool becomes available for use:</p><img alt="Claude&#x27;s Tools" src="../images/mcp_weather_tool/tools.png" class="css-a07n97"/><p class="rt-Text css-56tzch">When a user prompts Claude with a weather-related question, the assistant automatically identifies the need to use the external tool:</p><img alt="Prompt" src="../images/mcp_weather_tool/prompt.png" class="css-a07n97"/><p class="rt-Text css-56tzch">Before any external access is performed, Claude asks for the user&#x27;s explicit permission:</p><img alt="Permissions" src="../images/mcp_weather_tool/permissions.png" class="css-a07n97"/><p class="rt-Text css-56tzch">Once permission is granted, the tool retrieves the latest weather data and Claude presents a clear, concise answer to the user:</p><img alt="Claude&#x27;s Answer" src="../images/mcp_weather_tool/answer.png" class="css-a07n97"/></div><style data-emotion="css 178qua8">.css-178qua8{background-color:#ffffff;padding-top:2rem;padding-bottom:2rem;}</style><div class="rt-Box css-178qua8"><style data-emotion="css 1rrzhac">.css-1rrzhac{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:auto;margin-right:auto;padding-left:1.5rem;padding-right:1.5rem;color:#000000;}@media screen and (min-width: 640px){.css-1rrzhac{max-width:640px;}}@media screen and (min-width: 768px){.css-1rrzhac{max-width:768px;}}@media screen and (min-width: 1024px){.css-1rrzhac{max-width:1024px;}}@media screen and (min-width: 1280px){.css-1rrzhac{max-width:1280px;}}@media screen and (min-width: 1536px){.css-1rrzhac{max-width:1536px;}}</style><div class="rt-Flex css-1rrzhac"><p class="rt-Text">© 2025 Pau Tarrés. All rights reserved.</p><style data-emotion="css 153nxd5">.css-153nxd5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-column-gap:1rem;column-gap:1rem;}</style><div class="rt-Flex css-153nxd5"><style data-emotion="css 1bvmbcp">.css-1bvmbcp:hover{color:#9CA3AF;}</style><a href="https://github.com/tarrut" class="css-1bvmbcp"><style data-emotion="css 1b1acrn">.css-1b1acrn{alt:GitHub;height:1.5rem;width:1.5rem;color:var(--current-color);}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github css-1b1acrn"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="https://www.linkedin.com/in/pau-tarres/" class="css-1bvmbcp"><style data-emotion="css mfu5iv">.css-mfu5iv{alt:LinkedIn;height:1.5rem;width:1.5rem;color:var(--current-color);}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin css-mfu5iv"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/mcp_weather_tool","query":{},"buildId":"x3t_1R6cMSxRVr9cBtLDR","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>